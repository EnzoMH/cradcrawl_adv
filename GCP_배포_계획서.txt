================================================================================
                          GCP ë°°í¬ ìƒì„¸ ê³„íšì„œ (SSH ì›ê²© ê´€ë¦¬ ì¤‘ì‹¬)
================================================================================

ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”
================================================================================
â€¢ í”„ë¡œì íŠ¸ëª…: êµíšŒ/ê¸°ê´€ í¬ë¡¤ë§ CRM ì‹œìŠ¤í…œ GCP ë°°í¬
â€¢ í˜„ì¬ ìƒíƒœ: FastAPI ê¸°ë°˜ ë¡œì»¬ ì• í”Œë¦¬ì¼€ì´ì…˜
â€¢ ëª©í‘œ: Google Cloud Platform Compute Engine ê¸°ë°˜ ë°°í¬
â€¢ ë°°í¬ ë°©ì‹: SSH ì›ê²© ì ‘ì†ì„ í†µí•œ ì™„ì „í•œ ì„œë²„ ì œì–´
â€¢ ì˜ˆìƒ ìš´ì˜ ê¸°ê°„: 3-6ê°œì›” (GCP $300 ë¬´ë£Œ í¬ë ˆë”§ í™œìš©)
â€¢ í•µì‹¬ íŠ¹ì§•: ì „í†µì ì¸ VPS ë°©ì‹ + í´ë¼ìš°ë“œ í˜œíƒ

ğŸ¯ GCP ì„œë¹„ìŠ¤ ì„ íƒ ë° êµ¬ì„± (SSH ì¤‘ì‹¬)
================================================================================

ì„ íƒëœ GCP ì„œë¹„ìŠ¤:
âœ… Compute Engine (e2-medium) - SSH ì ‘ì† ê°€ëŠ¥í•œ ê°€ìƒë¨¸ì‹ 
âœ… Persistent Disk - SSD ì˜êµ¬ ë””ìŠ¤í¬ (30GB)
âœ… VPC Network - ì „ìš© ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
âœ… Cloud Firewall - SSH(22), HTTP(80), HTTPS(443) í¬íŠ¸ ê°œë°©
âœ… External IP - ê³ ì • ì™¸ë¶€ IP ì£¼ì†Œ
âœ… Cloud Storage - ë°±ì—… ë° ì •ì  íŒŒì¼ ì €ì¥
âœ… Cloud DNS - ë„ë©”ì¸ ì—°ê²° (ì„ íƒì‚¬í•­)
âœ… Cloud Monitoring - ì„œë²„ ëª¨ë‹ˆí„°ë§

SSH ì ‘ì† í™˜ê²½:
â€¢ OS: Ubuntu 22.04 LTS (ìµœì‹  ì•ˆì • ë²„ì „)
â€¢ SSH í‚¤ ê¸°ë°˜ ì¸ì¦ (ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ ë¹„í™œì„±í™”)
â€¢ í¬íŠ¸ í¬ì›Œë”©ì„ í†µí•œ ê°œë°œ í™˜ê²½ ì—°ê²°
â€¢ VS Code Remote SSH í™•ì¥ ì§€ì›
â€¢ í„°ë¯¸ë„ ê¸°ë°˜ ì™„ì „í•œ ì„œë²„ ê´€ë¦¬

ğŸ’° ë¹„ìš© ë¶„ì„ (ë¬´ë£Œ í¬ë ˆë”§ í™œìš©)
================================================================================

$300 ë¬´ë£Œ í¬ë ˆë”§ ì‚¬ìš© ê³„íš:
â€¢ Compute Engine (e2-medium): ~$45/ì›”
  - 2 vCPU, 4GB RAM (í¬ë¡¤ë§ ì‘ì—…ì— ì¶©ë¶„)
  - 24ì‹œê°„ ìš´ì˜ ê¸°ì¤€
â€¢ Persistent Disk (30GB SSD): ~$6/ì›”
â€¢ External Static IP: ~$3/ì›”
â€¢ Cloud Storage (ë°±ì—…ìš©): ~$2/ì›”
â€¢ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½: ~$4/ì›”
â€¢ ì´ ì˜ˆìƒ ë¹„ìš©: ~$60/ì›” â†’ 5ê°œì›” ìš´ì˜ ê°€ëŠ¥

Always Free í™œìš© ë°©ì•ˆ:
â€¢ e2-micro ì¸ìŠ¤í„´ìŠ¤ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ ì‹œ ì˜êµ¬ ë¬´ë£Œ (ì›” 750ì‹œê°„)
â€¢ Cloud Storage 5GB ë¬´ë£Œ
â€¢ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ 1GB/ì›” ë¬´ë£Œ (ë¶ë¯¸ ê¸°ì¤€)

ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ê³„ (SSH ê¸°ë°˜)
================================================================================

ë¬¼ë¦¬ì  êµ¬ì¡°:
[ê°œë°œì PC] --SSH--> [GCP Compute Engine] ---> [SQLite/PostgreSQL]
     â†“                        â†“                        â†“
[VS Code Remote]         [Docker ì»¨í…Œì´ë„ˆ]         [Cloud Storage ë°±ì—…]
     â†“                        â†“                        â†“
[ë¡œì»¬ ê°œë°œí™˜ê²½]            [FastAPI ì•±]            [ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸]

ë„¤íŠ¸ì›Œí¬ êµ¬ì„±:
â€¢ VPC: custom-vpc (10.0.0.0/16)
â€¢ ì„œë¸Œë„·: main-subnet (10.0.1.0/24)
â€¢ ë°©í™”ë²½ ê·œì¹™:
  - SSH (22): ê°œë°œì IPë§Œ í—ˆìš©
  - HTTP (80): ì „ì²´ í—ˆìš©
  - HTTPS (443): ì „ì²´ í—ˆìš©
  - Custom (8000): FastAPI ê°œë°œ ì„œë²„ìš©

SSH ì ‘ì† ì„¤ì •:
â€¢ í‚¤ ê¸°ë°˜ ì¸ì¦ (RSA 4096bit)
â€¢ SSH ì„¤ì • íŒŒì¼ ìë™ êµ¬ì„±
â€¢ í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì—°ê²°
â€¢ tmux/screenì„ í†µí•œ ì„¸ì…˜ ê´€ë¦¬

ğŸ“¦ ë°°í¬ ì¤€ë¹„ ì‘ì—… (SSH ì¤‘ì‹¬)
================================================================================

Phase 1: GCP ì¸í”„ë¼ êµ¬ì¶• (1ì¼)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1.1 Compute Engine ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
```bash
# gcloud CLIë¥¼ í†µí•œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
gcloud compute instances create church-crm-server \
    --zone=us-central1-a \
    --machine-type=e2-medium \
    --network-interface=network-tier=PREMIUM,stack-type=IPV4_ONLY,subnet=default \
    --maintenance-policy=MIGRATE \
    --provisioning-model=STANDARD \
    --service-account=<service-account-email> \
    --scopes=https://www.googleapis.com/auth/cloud-platform \
    --create-disk=auto-delete=yes,boot=yes,device-name=church-crm-server,image=projects/ubuntu-os-cloud/global/images/ubuntu-2204-jammy-v20231213,mode=rw,size=30,type=projects/<project-id>/zones/us-central1-a/diskTypes/pd-ssd \
    --no-shielded-secure-boot \
    --shielded-vtpm \
    --shielded-integrity-monitoring \
    --labels=project=church-crm,environment=production \
    --reservation-affinity=any
```

1.2 ê³ ì • IP ì£¼ì†Œ í• ë‹¹
```bash
# ê³ ì • IP ìƒì„±
gcloud compute addresses create church-crm-ip --region=us-central1

# ì¸ìŠ¤í„´ìŠ¤ì— ê³ ì • IP í• ë‹¹
gcloud compute instances add-access-config church-crm-server \
    --zone=us-central1-a \
    --access-config-name="external-nat" \
    --address=<static-ip>
```

1.3 ë°©í™”ë²½ ê·œì¹™ ì„¤ì •
```bash
# SSH ì ‘ì† (ê°œë°œì IPë§Œ í—ˆìš©)
gcloud compute firewall-rules create allow-ssh-from-dev \
    --allow tcp:22 \
    --source-ranges=<your-ip>/32 \
    --target-tags=ssh-allowed

# HTTP/HTTPS ì›¹ íŠ¸ë˜í”½
gcloud compute firewall-rules create allow-web-traffic \
    --allow tcp:80,tcp:443 \
    --source-ranges=0.0.0.0/0 \
    --target-tags=web-server

# FastAPI ê°œë°œ ì„œë²„
gcloud compute firewall-rules create allow-fastapi-dev \
    --allow tcp:8000 \
    --source-ranges=<your-ip>/32 \
    --target-tags=dev-server

# ì¸ìŠ¤í„´ìŠ¤ì— íƒœê·¸ ì ìš©
gcloud compute instances add-tags church-crm-server \
    --zone=us-central1-a \
    --tags=ssh-allowed,web-server,dev-server
```

Phase 2: SSH í™˜ê²½ êµ¬ì„± (0.5ì¼)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

2.1 SSH í‚¤ ìƒì„± ë° ë“±ë¡
```bash
# ë¡œì»¬ì—ì„œ SSH í‚¤ ìƒì„±
ssh-keygen -t rsa -b 4096 -f ~/.ssh/gcp_church_crm -C "your-email@example.com"

# ê³µê°œí‚¤ë¥¼ GCPì— ë“±ë¡
gcloud compute os-login ssh-keys add --key-file=~/.ssh/gcp_church_crm.pub

# ë˜ëŠ” ë©”íƒ€ë°ì´í„°ë¥¼ í†µí•œ ë“±ë¡
gcloud compute project-info add-metadata \
    --metadata-from-file ssh-keys=~/.ssh/gcp_church_crm.pub
```

2.2 SSH ì„¤ì • íŒŒì¼ êµ¬ì„±
```bash
# ~/.ssh/config íŒŒì¼ ì„¤ì •
cat >> ~/.ssh/config << EOF
Host church-crm
    HostName <static-ip>
    User <username>
    IdentityFile ~/.ssh/gcp_church_crm
    Port 22
    ServerAliveInterval 60
    ServerAliveCountMax 3
    
    # í¬íŠ¸ í¬ì›Œë”© ì„¤ì •
    LocalForward 8000 localhost:8000  # FastAPI ê°œë°œ ì„œë²„
    LocalForward 5432 localhost:5432  # PostgreSQL (í•„ìš”ì‹œ)
    LocalForward 3000 localhost:3000  # í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
EOF
```

2.3 VS Code Remote SSH ì„¤ì •
```json
// .vscode/settings.json
{
    "remote.SSH.remotePlatform": {
        "church-crm": "linux"
    },
    "remote.SSH.defaultExtensions": [
        "ms-python.python",
        "ms-python.black-formatter",
        "ms-python.pylint",
        "ms-vscode.vscode-json",
        "redhat.vscode-yaml",
        "ms-vscode.remote-explorer"
    ],
    "python.defaultInterpreterPath": "/home/<username>/church-crm/venv/bin/python"
}
```

Phase 3: ì„œë²„ í™˜ê²½ êµ¬ì¶• (1ì¼)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

3.1 ê¸°ë³¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
# SSHë¡œ ì„œë²„ ì ‘ì†
ssh church-crm

# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update && sudo apt upgrade -y

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo apt install -y \
    python3.11 \
    python3.11-venv \
    python3-pip \
    git \
    curl \
    wget \
    unzip \
    htop \
    tree \
    tmux \
    nginx \
    postgresql \
    postgresql-contrib \
    redis-server \
    docker.io \
    docker-compose

# Python ê°€ìƒí™˜ê²½ ìƒì„±
python3.11 -m venv ~/church-crm/venv
source ~/church-crm/venv/bin/activate
```

3.2 í”„ë¡œì íŠ¸ ë°°í¬
```bash
# í”„ë¡œì íŠ¸ í´ë¡  (GitHubì—ì„œ)
cd ~
git clone https://github.com/your-username/advanced_crawling.git church-crm
cd church-crm

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install --upgrade pip
pip install -r requirements.txt

# ì¶”ê°€ ì‹œìŠ¤í…œ ì˜ì¡´ì„± (Seleniumìš©)
sudo apt install -y chromium-browser chromium-chromedriver

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
nano .env  # ì„¤ì • í¸ì§‘
```

3.3 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
# PostgreSQL ì„¤ì • (ì„ íƒì‚¬í•­)
sudo -u postgres createuser --interactive church_crm_user
sudo -u postgres createdb church_crm_db -O church_crm_user

# SQLite ì‚¬ìš©ì‹œ (ê¸°ë³¸)
mkdir -p ~/church-crm/database
chmod 755 ~/church-crm/database

# ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (ë¡œì»¬ì—ì„œ ì—…ë¡œë“œ)
scp database/churches_crm.db church-crm:~/church-crm/database/
```

Phase 4: ì›¹ì„œë²„ ë° í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ (1ì¼)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

4.1 Nginx ì„¤ì •
```nginx
# /etc/nginx/sites-available/church-crm
server {
    listen 80;
    server_name <your-domain> <static-ip>;
    
    # ì •ì  íŒŒì¼ ì„œë¹™
    location /templates/ {
        alias /home/<username>/church-crm/templates/;
        expires 1d;
        add_header Cache-Control "public, immutable";
    }
    
    # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œ
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 86400;
    }
}
```

4.2 Systemd ì„œë¹„ìŠ¤ ì„¤ì •
```ini
# /etc/systemd/system/church-crm.service
[Unit]
Description=Church CRM FastAPI Application
After=network.target

[Service]
Type=simple
User=<username>
Group=<username>
WorkingDirectory=/home/<username>/church-crm
Environment=PATH=/home/<username>/church-crm/venv/bin
ExecStart=/home/<username>/church-crm/venv/bin/python -m uvicorn crm_app:app --host 0.0.0.0 --port 8000
ExecReload=/bin/kill -HUP $MAINPID
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```

4.3 í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# ~/church-crm/scripts/manage.sh

case "$1" in
    start)
        sudo systemctl start church-crm
        sudo systemctl start nginx
        echo "Church CRM started"
        ;;
    stop)
        sudo systemctl stop church-crm
        sudo systemctl stop nginx
        echo "Church CRM stopped"
        ;;
    restart)
        sudo systemctl restart church-crm
        sudo systemctl restart nginx
        echo "Church CRM restarted"
        ;;
    status)
        sudo systemctl status church-crm
        sudo systemctl status nginx
        ;;
    logs)
        sudo journalctl -u church-crm -f
        ;;
    *)
        echo "Usage: $0 {start|stop|restart|status|logs}"
        exit 1
        ;;
esac
```

Phase 5: ëª¨ë‹ˆí„°ë§ ë° ë°±ì—… (0.5ì¼)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

5.1 ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# ~/church-crm/scripts/monitor.sh

# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì²´í¬
echo "=== System Resources ==="
echo "CPU Usage: $(top -bn1 | grep "Cpu(s)" | awk '{print $2}' | awk -F'%' '{print $1}')"
echo "Memory Usage: $(free | grep Mem | awk '{printf("%.2f%%", $3/$2 * 100.0)}')"
echo "Disk Usage: $(df -h / | awk 'NR==2{printf "%s", $5}')"

# ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ì²´í¬
echo -e "\n=== Application Status ==="
if systemctl is-active --quiet church-crm; then
    echo "Church CRM: Running"
else
    echo "Church CRM: Stopped"
fi

if systemctl is-active --quiet nginx; then
    echo "Nginx: Running"
else
    echo "Nginx: Stopped"
fi

# ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸° ì²´í¬
echo -e "\n=== Database Status ==="
if [ -f ~/church-crm/database/churches_crm.db ]; then
    echo "Database size: $(du -h ~/church-crm/database/churches_crm.db | cut -f1)"
    echo "Last modified: $(stat -c %y ~/church-crm/database/churches_crm.db)"
fi

# ë¡œê·¸ íŒŒì¼ í¬ê¸° ì²´í¬
echo -e "\n=== Log Files ==="
if [ -d ~/church-crm/logs ]; then
    du -h ~/church-crm/logs/*.log 2>/dev/null | head -5
fi
```

5.2 ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# ~/church-crm/scripts/backup.sh

BACKUP_DIR="/home/<username>/backups"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="church_crm_backup_$DATE.tar.gz"

# ë°±ì—… ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p $BACKUP_DIR

# ë°ì´í„°ë² ì´ìŠ¤ ë° ì„¤ì • íŒŒì¼ ë°±ì—…
tar -czf $BACKUP_DIR/$BACKUP_FILE \
    ~/church-crm/database/ \
    ~/church-crm/.env \
    ~/church-crm/logs/ \
    --exclude='*.log'

# Cloud Storageë¡œ ì—…ë¡œë“œ
gsutil cp $BACKUP_DIR/$BACKUP_FILE gs://church-crm-backups/

# ë¡œì»¬ ë°±ì—… íŒŒì¼ ì •ë¦¬ (7ì¼ ì´ìƒ ëœ íŒŒì¼ ì‚­ì œ)
find $BACKUP_DIR -name "church_crm_backup_*.tar.gz" -mtime +7 -delete

echo "Backup completed: $BACKUP_FILE"
```

5.3 Cron ì‘ì—… ì„¤ì •
```bash
# crontab -e
# ë§¤ì¼ ìƒˆë²½ 2ì‹œ ìë™ ë°±ì—…
0 2 * * * /home/<username>/church-crm/scripts/backup.sh >> /home/<username>/church-crm/logs/backup.log 2>&1

# ë§¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
0 * * * * /home/<username>/church-crm/scripts/monitor.sh >> /home/<username>/church-crm/logs/monitor.log 2>&1

# ë§¤ì£¼ ì¼ìš”ì¼ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
0 3 * * 0 sudo apt update && sudo apt upgrade -y >> /home/<username>/church-crm/logs/system_update.log 2>&1
```

ğŸš€ SSH ì›ê²© ê°œë°œ ì›Œí¬í”Œë¡œìš°
================================================================================

ì¼ìƒì ì¸ ê°œë°œ í”„ë¡œì„¸ìŠ¤:

1. ë¡œì»¬ì—ì„œ SSH ì ‘ì†:
```bash
ssh church-crm
```

2. VS Code Remote SSHë¡œ ì›ê²© ê°œë°œ:
```bash
# VS Codeì—ì„œ Ctrl+Shift+P
> Remote-SSH: Connect to Host...
> church-crm ì„ íƒ
```

3. tmux ì„¸ì…˜ ê´€ë¦¬:
```bash
# ìƒˆ ì„¸ì…˜ ìƒì„±
tmux new-session -d -s church-crm

# ì„¸ì…˜ ì¬ì—°ê²°
tmux attach-session -t church-crm

# ì„¸ì…˜ ëª©ë¡ í™•ì¸
tmux list-sessions
```

4. ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ë¦¬:
```bash
# ê°œë°œ ëª¨ë“œë¡œ ì‹¤í–‰
cd ~/church-crm
source venv/bin/activate
python -m uvicorn crm_app:app --reload --host 0.0.0.0 --port 8000

# í”„ë¡œë•ì…˜ ëª¨ë“œ ê´€ë¦¬
sudo systemctl restart church-crm
sudo systemctl status church-crm
```

5. ë¡œê·¸ ëª¨ë‹ˆí„°ë§:
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f ~/church-crm/logs/app.log
sudo journalctl -u church-crm -f

# ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰
grep -i error ~/church-crm/logs/*.log
```

ğŸ”§ ê°œë°œ ë„êµ¬ ì„¤ì •
================================================================================

Git ì„¤ì •:
```bash
# ì„œë²„ì—ì„œ Git ì„¤ì •
git config --global user.name "Your Name"
git config --global user.email "your-email@example.com"

# SSH í‚¤ë¡œ GitHub ì—°ê²°
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
cat ~/.ssh/id_rsa.pub  # GitHubì— ì¶”ê°€
```

Python ê°œë°œ í™˜ê²½:
```bash
# ê°œë°œìš© íŒ¨í‚¤ì§€ ì¶”ê°€ ì„¤ì¹˜
pip install \
    black \
    pylint \
    pytest \
    ipython \
    jupyter \
    debugpy
```

ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬:
```bash
# SQLite ë¸Œë¼ìš°ì € (ì›¹ ê¸°ë°˜)
pip install sqlite-web
sqlite_web ~/church-crm/database/churches_crm.db --host 0.0.0.0 --port 8080

# PostgreSQL ê´€ë¦¬ (í•„ìš”ì‹œ)
sudo apt install postgresql-client
psql -h localhost -U church_crm_user -d church_crm_db
```

ğŸ”’ ë³´ì•ˆ ê°•í™” ì„¤ì •
================================================================================

SSH ë³´ì•ˆ ê°•í™”:
```bash
# /etc/ssh/sshd_config ìˆ˜ì •
sudo nano /etc/ssh/sshd_config

# ë‹¤ìŒ ì„¤ì • ì ìš©:
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes
Port 22  # ë˜ëŠ” ë‹¤ë¥¸ í¬íŠ¸ë¡œ ë³€ê²½
MaxAuthTries 3
ClientAliveInterval 300
ClientAliveCountMax 2

# SSH ì„œë¹„ìŠ¤ ì¬ì‹œì‘
sudo systemctl restart sshd
```

ë°©í™”ë²½ ì„¤ì •:
```bash
# UFW ë°©í™”ë²½ í™œì„±í™”
sudo ufw enable

# í•„ìš”í•œ í¬íŠ¸ë§Œ í—ˆìš©
sudo ufw allow from <your-ip> to any port 22
sudo ufw allow 80
sudo ufw allow 443
sudo ufw allow from <your-ip> to any port 8000

# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
sudo ufw status verbose
```

ìë™ ë³´ì•ˆ ì—…ë°ì´íŠ¸:
```bash
# unattended-upgrades ì„¤ì¹˜
sudo apt install unattended-upgrades

# ìë™ ì—…ë°ì´íŠ¸ ì„¤ì •
sudo dpkg-reconfigure -plow unattended-upgrades
```

ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬
================================================================================

htop ì„¤ì •:
```bash
# htop ì„¤ì¹˜ ë° ì„¤ì •
sudo apt install htop
htop  # ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
```

iotop (ë””ìŠ¤í¬ I/O ëª¨ë‹ˆí„°ë§):
```bash
sudo apt install iotop
sudo iotop  # ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
```

netstat (ë„¤íŠ¸ì›Œí¬ ì—°ê²° ëª¨ë‹ˆí„°ë§):
```bash
# í¬íŠ¸ ì‚¬ìš© í˜„í™© í™•ì¸
netstat -tlnp | grep :8000
netstat -tlnp | grep :80
```

Custom ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ:
```python
#!/usr/bin/env python3
# ~/church-crm/scripts/dashboard.py

import psutil
import time
import os
from datetime import datetime

def get_system_info():
    # CPU ì‚¬ìš©ë¥ 
    cpu_percent = psutil.cpu_percent(interval=1)
    
    # ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
    memory = psutil.virtual_memory()
    
    # ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
    disk = psutil.disk_usage('/')
    
    # ë„¤íŠ¸ì›Œí¬ í†µê³„
    network = psutil.net_io_counters()
    
    return {
        'timestamp': datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
        'cpu_percent': cpu_percent,
        'memory_percent': memory.percent,
        'memory_used': memory.used // (1024**3),  # GB
        'memory_total': memory.total // (1024**3),  # GB
        'disk_percent': (disk.used / disk.total) * 100,
        'disk_used': disk.used // (1024**3),  # GB
        'disk_total': disk.total // (1024**3),  # GB
        'network_sent': network.bytes_sent // (1024**2),  # MB
        'network_recv': network.bytes_recv // (1024**2),  # MB
    }

if __name__ == "__main__":
    while True:
        info = get_system_info()
        print(f"\n{'='*50}")
        print(f"ì‹œê°„: {info['timestamp']}")
        print(f"CPU: {info['cpu_percent']:.1f}%")
        print(f"ë©”ëª¨ë¦¬: {info['memory_percent']:.1f}% ({info['memory_used']}/{info['memory_total']} GB)")
        print(f"ë””ìŠ¤í¬: {info['disk_percent']:.1f}% ({info['disk_used']}/{info['disk_total']} GB)")
        print(f"ë„¤íŠ¸ì›Œí¬: ì†¡ì‹  {info['network_sent']} MB, ìˆ˜ì‹  {info['network_recv']} MB")
        time.sleep(10)
```

ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ë°°í¬ ê²€ì¦
================================================================================

ì—°ê²° í…ŒìŠ¤íŠ¸:
```bash
# SSH ì—°ê²° í…ŒìŠ¤íŠ¸
ssh -T church-crm "echo 'SSH connection successful'"

# ì›¹ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
curl -I http://<static-ip>
curl -I http://<static-ip>:8000

# í¬íŠ¸ í¬ì›Œë”© í…ŒìŠ¤íŠ¸
curl -I http://localhost:8000  # ë¡œì»¬ì—ì„œ ì‹¤í–‰
```

ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸:
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
cd ~/church-crm
source venv/bin/activate
python -c "from database.database import get_database; db = get_database(); print('DB ì—°ê²° ì„±ê³µ')"

# í¬ë¡¤ë§ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
python -c "from crawler_main import UnifiedCrawler; print('í¬ë¡¤ë§ ëª¨ë“ˆ ë¡œë“œ ì„±ê³µ')"

# API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl http://localhost:8000/health
curl http://localhost:8000/api/stats/summary
```

ì„±ëŠ¥ í…ŒìŠ¤íŠ¸:
```bash
# Apache Benchë¥¼ ì‚¬ìš©í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸
sudo apt install apache2-utils
ab -n 1000 -c 10 http://localhost:8000/

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
python ~/church-crm/scripts/dashboard.py
```

ğŸ’¾ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ë°±ì—…
================================================================================

ë¡œì»¬ì—ì„œ ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡:
```bash
# ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ì—…ë¡œë“œ
scp database/churches_crm.db church-crm:~/church-crm/database/

# ì„¤ì • íŒŒì¼ ì—…ë¡œë“œ
scp .env church-crm:~/church-crm/

# ë¡œê·¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (í•„ìš”ì‹œ)
scp church-crm:~/church-crm/logs/*.log ./logs/
```

ìë™ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸:
```bash
#!/bin/bash
# ~/church-crm/scripts/sync.sh

# ë¡œì»¬ â†’ ì„œë²„ ë™ê¸°í™”
rsync -avz --exclude='*.log' --exclude='__pycache__' \
    ./ church-crm:~/church-crm/

# ì„œë²„ â†’ ë¡œì»¬ ë°±ì—…
rsync -avz church-crm:~/church-crm/database/ ./backup/database/
rsync -avz church-crm:~/church-crm/logs/ ./backup/logs/
```

âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
================================================================================

ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°:

1. SSH ì—°ê²° ì‹¤íŒ¨:
```bash
# SSH í‚¤ ê¶Œí•œ í™•ì¸
chmod 600 ~/.ssh/gcp_church_crm
chmod 644 ~/.ssh/gcp_church_crm.pub

# SSH ì—ì´ì „íŠ¸ì— í‚¤ ì¶”ê°€
ssh-add ~/.ssh/gcp_church_crm

# ìƒì„¸ ë¡œê·¸ë¡œ ì—°ê²° ì‹œë„
ssh -v church-crm
```

2. ì›¹ ì„œë¹„ìŠ¤ ì ‘ì† ë¶ˆê°€:
```bash
# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status church-crm
sudo systemctl status nginx

# í¬íŠ¸ ì‚¬ìš© í™•ì¸
sudo netstat -tlnp | grep :8000
sudo netstat -tlnp | grep :80

# ë°©í™”ë²½ ê·œì¹™ í™•ì¸
sudo ufw status
gcloud compute firewall-rules list
```

3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜:
```bash
# íŒŒì¼ ê¶Œí•œ í™•ì¸
ls -la ~/church-crm/database/
chmod 644 ~/church-crm/database/churches_crm.db

# ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
df -h
```

4. ë©”ëª¨ë¦¬ ë¶€ì¡±:
```bash
# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
free -h
ps aux --sort=-%mem | head

# ìŠ¤ì™‘ íŒŒì¼ ìƒì„± (í•„ìš”ì‹œ)
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

ğŸ“ ì›ê²© ì§€ì› ë° í˜‘ì—…
================================================================================

íŒ€ í˜‘ì—…ì„ ìœ„í•œ SSH ì„¤ì •:
```bash
# ì—¬ëŸ¬ ê°œë°œì SSH í‚¤ ë“±ë¡
gcloud compute project-info add-metadata \
    --metadata-from-file ssh-keys=team_ssh_keys.txt

# ì‚¬ìš©ìë³„ ê¶Œí•œ ì„¤ì •
sudo adduser developer2
sudo usermod -aG sudo developer2
```

ì›ê²© ì§€ì› ë„êµ¬:
```bash
# tmux ê³µìœ  ì„¸ì…˜
tmux new-session -d -s support
tmux attach-session -t support

# í™”ë©´ ê³µìœ  (VNC ì„¤ì¹˜)
sudo apt install x11vnc xvfb
x11vnc -display :0 -auth ~/.Xauthority -forever -loop -noxdamage -repeat -rfbauth ~/.vnc/passwd -shared
```

ì‹¤ì‹œê°„ ë¡œê·¸ ê³µìœ :
```bash
# ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë° ì›¹ ì¸í„°í˜ì´ìŠ¤
pip install websocket-client
python ~/church-crm/scripts/log_streamer.py
```

âœ… ìµœì¢… ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸
================================================================================

ì¸í”„ë¼ ì¤€ë¹„:
â–¡ GCP í”„ë¡œì íŠ¸ ìƒì„± ë° $300 í¬ë ˆë”§ í™•ì¸
â–¡ Compute Engine ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (e2-medium)
â–¡ ê³ ì • IP ì£¼ì†Œ í• ë‹¹
â–¡ ë°©í™”ë²½ ê·œì¹™ ì„¤ì • (SSH, HTTP, HTTPS)
â–¡ SSH í‚¤ ìƒì„± ë° ë“±ë¡

ì„œë²„ í™˜ê²½ êµ¬ì¶•:
â–¡ Ubuntu 22.04 LTS ì„¤ì¹˜ í™•ì¸
â–¡ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (Python, Git, Docker ë“±)
â–¡ Python ê°€ìƒí™˜ê²½ ìƒì„±
â–¡ í”„ë¡œì íŠ¸ ì½”ë“œ ë°°í¬
â–¡ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜

ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •:
â–¡ SQLite íŒŒì¼ ì—…ë¡œë“œ ë˜ëŠ” PostgreSQL ì„¤ì¹˜
â–¡ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
â–¡ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
â–¡ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •

ì›¹ì„œë²„ ì„¤ì •:
â–¡ Nginx ì„¤ì • ë° í…ŒìŠ¤íŠ¸
â–¡ Systemd ì„œë¹„ìŠ¤ ë“±ë¡
â–¡ SSL ì¸ì¦ì„œ ì„¤ì • (Let's Encrypt)
â–¡ ë„ë©”ì¸ ì—°ê²° (ì„ íƒì‚¬í•­)

SSH ì›ê²© í™˜ê²½:
â–¡ SSH í‚¤ ê¸°ë°˜ ì¸ì¦ ì„¤ì •
â–¡ VS Code Remote SSH ì—°ê²° í…ŒìŠ¤íŠ¸
â–¡ í¬íŠ¸ í¬ì›Œë”© ì„¤ì •
â–¡ tmux/screen ì„¸ì…˜ ê´€ë¦¬ ì„¤ì •

ëª¨ë‹ˆí„°ë§ ë° ë°±ì—…:
â–¡ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
â–¡ ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
â–¡ Cron ì‘ì—… ë“±ë¡
â–¡ Cloud Storage ë°±ì—… ì—°ë™

ë³´ì•ˆ ì„¤ì •:
â–¡ SSH ë³´ì•ˆ ê°•í™” (í‚¤ ì¸ì¦, í¬íŠ¸ ë³€ê²½)
â–¡ ë°©í™”ë²½ ì„¤ì • (UFW)
â–¡ ìë™ ë³´ì•ˆ ì—…ë°ì´íŠ¸ ì„¤ì •
â–¡ ì ‘ê·¼ ë¡œê·¸ ëª¨ë‹ˆí„°ë§

ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸:
â–¡ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì† í…ŒìŠ¤íŠ¸
â–¡ API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
â–¡ í¬ë¡¤ë§ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â–¡ ë°ì´í„°ë² ì´ìŠ¤ CRUD í…ŒìŠ¤íŠ¸
â–¡ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ í…ŒìŠ¤íŠ¸

ì„±ëŠ¥ í…ŒìŠ¤íŠ¸:
â–¡ ë¶€í•˜ í…ŒìŠ¤íŠ¸ (Apache Bench)
â–¡ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
â–¡ ì‘ë‹µ ì‹œê°„ ì¸¡ì •
â–¡ ë™ì‹œ ì ‘ì† í…ŒìŠ¤íŠ¸

ğŸ“Š ì˜ˆìƒ ì¼ì • (SSH ì¤‘ì‹¬)
================================================================================

ì´ ì†Œìš” ê¸°ê°„: 3ì¼

Day 1: ì¸í”„ë¼ êµ¬ì¶• ë° SSH í™˜ê²½ ì„¤ì •
â€¢ GCP ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì • (2ì‹œê°„)
â€¢ SSH í‚¤ ì„¤ì • ë° ì›ê²© ì ‘ì† í™˜ê²½ êµ¬ì¶• (2ì‹œê°„)
â€¢ ì„œë²„ ê¸°ë³¸ í™˜ê²½ ì„¤ì • (Python, Git ë“±) (4ì‹œê°„)

Day 2: ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ë° ì›¹ì„œë²„ ì„¤ì •
â€¢ í”„ë¡œì íŠ¸ ì½”ë“œ ë°°í¬ ë° ì˜ì¡´ì„± ì„¤ì¹˜ (2ì‹œê°„)
â€¢ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë° ë§ˆì´ê·¸ë ˆì´ì…˜ (2ì‹œê°„)
â€¢ Nginx ë° Systemd ì„œë¹„ìŠ¤ ì„¤ì • (4ì‹œê°„)

Day 3: ëª¨ë‹ˆí„°ë§, ë°±ì—…, ë³´ì•ˆ ì„¤ì •
â€¢ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ë° ìŠ¤í¬ë¦½íŠ¸ ì„¤ì • (3ì‹œê°„)
â€¢ ìë™ ë°±ì—… ì‹œìŠ¤í…œ êµ¬ì¶• (2ì‹œê°„)
â€¢ ë³´ì•ˆ ê°•í™” ë° ìµœì¢… í…ŒìŠ¤íŠ¸ (3ì‹œê°„)

ğŸ¯ ì„±ê³µ ê¸°ì¤€
================================================================================

ê¸°ìˆ ì  ì„±ê³µ ê¸°ì¤€:
â€¢ SSHë¥¼ í†µí•œ ì™„ì „í•œ ì›ê²© ì„œë²„ ì œì–´ ê°€ëŠ¥
â€¢ VS Code Remote SSHë¡œ ì›ê²© ê°œë°œ í™˜ê²½ êµ¬ì¶•
â€¢ ëª¨ë“  ê¸°ì¡´ ê¸°ëŠ¥ì´ í´ë¼ìš°ë“œì—ì„œ ì •ìƒ ë™ì‘
â€¢ 24/7 ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜
â€¢ ì‘ë‹µ ì‹œê°„ 3ì´ˆ ì´ë‚´ ìœ ì§€

ìš´ì˜ íš¨ìœ¨ì„±:
â€¢ ìë™ ë°±ì—… ì‹œìŠ¤í…œ êµ¬ì¶• (ì¼ì¼ ë°±ì—…)
â€¢ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ
â€¢ ì›ê²© ê°œë°œ ë° ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
â€¢ ë³´ì•ˆ ì •ì±… ì ìš© (SSH í‚¤ ì¸ì¦, ë°©í™”ë²½)

ë¹„ìš© íš¨ìœ¨ì„±:
â€¢ ì›” $60 ì´ë‚´ ë¹„ìš© ìœ ì§€ (5ê°œì›” ë¬´ë£Œ ìš´ì˜)
â€¢ í•„ìš”ì‹œ e2-microë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œí•˜ì—¬ ì˜êµ¬ ë¬´ë£Œ ìš´ì˜
â€¢ Cloud Storage ë°±ì—… ë¹„ìš© ìµœì†Œí™”

ê°œë°œ ìƒì‚°ì„±:
â€¢ ë¡œì»¬ê³¼ ë™ì¼í•œ ê°œë°œ í™˜ê²½ êµ¬ì¶•
â€¢ Git ê¸°ë°˜ ì½”ë“œ ê´€ë¦¬ ë° ë°°í¬
â€¢ ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ë° ë””ë²„ê¹…
â€¢ tmuxë¥¼ í†µí•œ ì„¸ì…˜ ê´€ë¦¬ ë° ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…

================================================================================
                              SSH ì¤‘ì‹¬ ë°°í¬ ê³„íš ì™„ë£Œ
================================================================================

ì´ ê³„íšì„œëŠ” SSH ì›ê²© ì ‘ì†ì„ ì„ í˜¸í•˜ëŠ” ê°œë°œìë¥¼ ìœ„í•œ ì™„ì „í•œ GCP ë°°í¬ 
ê°€ì´ë“œì…ë‹ˆë‹¤. ì „í†µì ì¸ VPS ê´€ë¦¬ ë°©ì‹ê³¼ í´ë¼ìš°ë“œì˜ ì¥ì ì„ ê²°í•©í•˜ì—¬
ìµœëŒ€í•œì˜ ì œì–´ê¶Œê³¼ ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

í•µì‹¬ ì¥ì :
â€¢ SSHë¥¼ í†µí•œ ì™„ì „í•œ ì„œë²„ ì œì–´ê¶Œ
â€¢ VS Code Remote SSHë¡œ ì›ê²© ê°œë°œ í™˜ê²½
â€¢ tmux/screenì„ í†µí•œ ì„¸ì…˜ ê´€ë¦¬
â€¢ ì „í†µì ì¸ Linux ì„œë²„ ê´€ë¦¬ ë°©ì‹
â€¢ GCPì˜ ì•ˆì •ì„±ê³¼ í™•ì¥ì„± í™œìš©

ë‹¤ìŒ ë‹¨ê³„: GCP ê³„ì • ìƒì„± í›„ Compute Engine ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë¶€í„° ì‹œì‘
ì˜ˆìƒ ì„±ê³µë¥ : 95% (ê²€ì¦ëœ SSH ê¸°ë°˜ ë°°í¬ ë°©ì‹)
ê¶Œì¥ ì‹œì‘ì¼: ì¦‰ì‹œ ê°€ëŠ¥